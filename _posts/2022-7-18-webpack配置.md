---
layout:     post
title:      webpack配置
subtitle:   针对项目，添加各种配置扩展webpack打包能力
date:       2021-02-15
author:     page
header-img: img/home-bg-geek.jpg
catalog: true
tags:
    - webpack
---

# webpack配置

## 基本配置

### mode

 配置模式， webpack 将使用相应模式的内置优化

```js
module.exports = {
  mode: 'development',
};
// 等同于命令 webpack --mode=development
```

### entry

入口文件；

传入字符串或数组，此时入口 chunk 会被命名为 `main`

```js
entry: './src/main.js',
// 或
entry: ['react', 'react-dom', 'redux', 'react-redux'] // 生成引入数组各项的入口chunk
```

传入对象，则属性的键(key)作为 chunk 的名称，值用于描述入口特性

```js
entry: {
  home: './home.js',
  about: './about.js',
  contact: './contact.js',
}
// 或描述值
entry: {
  home: { import: './catalog.js', filename: 'pages/home.js' },
  about: { import: './about.js', filename: 'pages/[name][ext]' },
  shared: ['react', 'react-dom', 'redux', 'react-redux']
}
```

`filename`：默认入口 chunk 的输出文件名是从 output.filename 中提取出来的，但你可以为入口chunk指定自定义的输出文件名

### output

**clean**

输出打包文件前清空 output 目录

**chunkFilename**

运行时按需加载的chunk的名称

默认 `[id].js`（模块id标识或`output.filename`的`[name]`）

**filename**

控制输出 bundle 的名称，单个入口文件仅作为静态名称解析 `filename: 'bundle.js'`

多个入口、代码拆分或引入插件都会创建多个 bundle，需解析为动态名称

```js
// [id] [name] [chunkhash] [contenthash]
filename: '[name].bundle.js',
```

**path**

打包bundle输出根路径

```js
 path: path.resolve(__dirname, 'dist'),
```

**publicPath**

输出目录对应的**公开 URL**

```js
// VUE_APP_RES_URL: http://res.domain.com.cn/
publicPath: process.env.VUE_APP_RES_URL,
```

## 优化配置

## 插件配置

## 内置API

devtool

devServer

vue-loader

vueLoaderPlugin

html-webpack-plugin

historyApiFallback

resolve.alias


