---
layout:     post
title:      Vercel
subtitle:   构建并部署你的项目
date:       2025-9-21
author:     page 
header-img: img/firebase.png
catalog: true
tags:
    - 服务端
---

# vercel

## Vercel Functions

Vercel Functions 允许您运行服务器端代码，而无需管理服务器。类似云函数：

```js
/api/aichat.js
import OpenAI from "openai";

// GET请求路径：/api/aichat
export default async function GET(request, response) {
  const client = new OpenAI({
    baseURL: "https://api-inference.modelscope.cn/v1",
    apiKey: "",
  });
  try {
    const res = await client.chat.completions.create({
      model: "deepseek-ai/DeepSeek-V3",
      messages: [
        { role: "system", content: "You are a helpful assistant." },
        { role: "user", content: "你好呀" },
      ],
    });
    // 响应内容
    response.status(200).json({
      code: 0,
      reply: res.choices[0]?.message?.content,
      usage: res.usage,
    });
  } catch (error) {
    console.log(error);
  }
}
```

对于开启了 [fluid-compute](https://vercel.com/kid1912s-projects/ai-chat/settings/functions#fluid-compute) 的项目，默认 `/api` 目录的文件作为云函数，详情见：[Vercel Functions](https://vercel.com/docs/functions)

## Vercel CLI

借助命令行界面 (CLI)，可以使用终端或自动化系统与 Vercel 平台交互，从而检索[日志](https://vercel.com/docs/cli/logs)、管理[证书、](https://vercel.com/docs/cli/certs)[在本地](https://vercel.com/docs/cli/dev)复制部署环境调试等；

```bash
npm i -g vercel
vercel dev
```

默认将在 `localhost:3000` 端口开启本地服务，你可以vercel平台配置项目development/build command

**注**：对于Vite 默认只监听 `localhost`（IPv4），而 `vercel dev`可能尝试通过 IPv6 地址访问，所以 `vercel dev` 本地部署Vercel环境时，vite 项目开发环境命令应调整为 `vite --port $PORT --host 0.0.0.0`



### AI问答平台

**关注点**

HTTP Streamable 取代 SSE（切换对话时手动中断流，回到对话时续传）

文字流式输出效果：消息状态池 + requestAnimationFrame逐帧输出(切出标签页全部输出) 

回车发送消息：输入法Enter处理（safari兼容）
