---
layout:     post
title:      速查笔记——CSS3篇
subtitle:   CSS3新技巧帮助我们更好开发优美的网页
date:       2020-06-24
author:     page
header-img: img/post-bg-swift2.jpg
catalog: true
tags:
    - CSS
---

## Flexbox

### 流式布局

**固定宽容器，固定宽固定数量内容块，边距固定（常见mobile）**

```css
.container {
  display: flex;
  flex-wrap: wrap;
  width: 500px;
  height: 250px;
  justify-content: space-between;
  align-content: space-between;
  background-color: blue;
}
```

<img src="https://raw.githubusercontent.com/KID-1912/Github-PicGo-Images/master/2022/10/21/20221021112235.png" title="" alt="" data-align="center">

**注：** 边距合大于单个内容块宽度情况不适用，需手动设置边距 `.item:not(:nth-child(4n)){ margin-right: 100px }`

**不固定宽容器，不固定宽固定数量内容块，边距不固定**

```css
.container {
  display: flex;
  flex-wrap: wrap;
  width: 500px;
  height: 250px;
  justify-content: space-between;
  align-content: space-between;
  background-color: blue;
}
.container .item{
  width: 24%;
  height: 120px;
  background-color: pink;
}
```

<img title="" src="https://raw.githubusercontent.com/KID-1912/Github-PicGo-Images/master/2022/10/21/20221021123335.png" alt="" width="235" data-align="inline">  <img title="" src="https://raw.githubusercontent.com/KID-1912/Github-PicGo-Images/master/2022/10/21/20221021123432.png" alt="" width="399">

**如图：** 容器宽度变化，内容块宽与边距按比例改变

**固定宽容器，固定宽不固定数量内容块，边距固定（依次排列）**

```css
.container {
  width: 510px;
  background-color: blue;
}
.list{
  display: flex;
  flex-wrap: wrap;
  margin-right: -10px;
  margin-bottom: -10px;
}
.container .item{
  width: 120px;
  height: 120px;
  background-color: pink;
  margin-right: 10px;
  margin-bottom: 10px;
}
```

![](https://raw.githubusercontent.com/KID-1912/Github-PicGo-Images/master/2022/10/21/20221021154141.png)

**不固定宽容器，固定宽不固定数量内容块，边距不固定**

```css
.container {
  width: 520px;
  display: grid;
  grid-auto-rows: 120px;  // 内容块高
  grid-template-columns: repeat(auto-fill, 120px);  // 内容块宽
  grid-row-gap: 10px;  // 内容块纵向边距
  grid-column-gap: 10px;  // 内容块横向边距
  justify-content: space-between;
  background-color: blue;
}
```

**不固定宽容器，不固定宽不固定数量内容块，边距不固定**

```css
.container {
  width: 600px;
  background-color: blue;
}
.list {
  display: flex;
  flex-wrap: wrap;
  margin-right: -10px; // 最小边距
  margin-bottom: -10px;
  justify-content: space-between;
}
.list::after{
  content: '';
  margin-right: auto;
}
.container .item{
  height: 80px;
  margin-right: 10px; // 最小边距
  margin-bottom: 10px;
  background-color: pink;
}
```

<img title="" src="https://raw.githubusercontent.com/KID-1912/Github-PicGo-Images/master/2022/10/21/20221021182555.png" alt="" width="538" data-align="center">

## 动画

#### transform

**css3实现正方体**

```css
.aqual{
  position: relative;
  height: 100%;
  margin: 0 auto;
  transform-style: preserve-3d;         // 支持3d
  perspective-origin: center center;
  transform: translateZ(400px) rotateY(0deg);   // 中心点偏移
  transition: transform .6s ease-out;
}

.page:first-child{
  transform: rotateY(-180deg) translateZ(-400px);   // 面的旋转与展开
}
.page:nth-child(2){
  transform: rotateY(90deg) translateZ(-400px);
}
.page:nth-child(3){
  transform: rotateY(0deg) translateZ(-400px);
}
.page:nth-child(4){
  transform: rotateY(-90deg) translateZ(-400px);
}
```

**缩放定位元素**

`absolute` + `translate` + `scale`

```css
transform: translate(-50%, -50%) scale(2);
top: 676 + @height / 2;
left: 424 + @width / 2;
```

#### animation

**`animation-play-state`**

动画状态，值为 `running` 或 `paused`;

通过控制 `animation-play-state` 实现动画的暂停与播放

**`@frameskey animate-name`**

动画序列，控制动画各时间行为；通过值20%、40%时间节点控制动画变速执行；

ease速度可以生成短暂停留效果

#### 问题记录

**ios系统transition卡顿**

transition动画添加延迟 `delay` 时间

**rotate元素层级问题**

描述：具有 `transform:rotate` 元素在旋转动画层级变高
解决：为被覆盖的上层元素添加 `transform:translateZ(0)` 或`position:relative`

## 适配

### 移动端

**等比缩放（更大的屏幕展示更大的内容）**

通过rem、vw/百分比实现不同屏幕下等比缩放页面内容

**伸缩布局（更大的屏幕展示更多的内容）**

通过flex实现容器的伸缩，内容大小不变

- 容器宽度：按比例分布，相关属性`flex-basis、flex-shrink、flex-grow`，`width: 48%`，

-  `min-width`（内容展示所需最小宽）、`max-width`（宽度过大时仅边距改变）

- 自适应边距 `space-between`，`space-around`

### PC端

**伸缩布局**

与移动端伸缩一致

- 页面的`min-width`：设置页面宽最小值(1200)，小于时滚动

**媒体查询**

为小屏或大屏下附加媒体查询，改变展示内容大小（版芯大小）

### 全设备

媒体查询小/中/大屏设备，改变内容结构与大小

## 其他问题

**`border-radius: 50%` 无法实现标准圆形**

描述：元素宽高为rem单位时；解决：使用其它单位设置元素宽高;
