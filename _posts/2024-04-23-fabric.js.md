---
layout:     post
title:      fabric.js
subtitle:   canvas原生方法之上提供简单而强大的对象模型。fabric.js负责画布状态和渲染，并让我们直接使用绘制后的“对象”。
date:       2024-04-23
author:     page
header-img: img/FabricJS.jpg
catalog: true
tags:
    - 
---

# Fabric

[官方文档](https://github.com/fabricjs/fabric.js) [中文教程](https://github.com/Rookie-Birds/Fabric-Tutorial_zh-CN)

## 创建实例

```js
let canvas = new fabric.Canvas('c'); // id:c
// 或
let $canvas = document.querySelector('#c');
let canvas = new fabric.Canvas($canvas);
```

**实例参数**

```js
const canvas = new fabric.Canvas($canvas, {
  width,
  height,
  selection: false, // 禁用画布框选操作
  hoverCursor: 'default',
  freeDrawingCursor: 'none',
  ...
});
```

## 图片

### 链接图片

```js
fabric.Image.fromURL(
  imageUrl,
  function (img) {
    img.scaleToWidth(canvas.width);
    img.scaleToHeight(canvas.height);
    img.set('selectable', false);
    canvas.add(img);
    canvas.renderAll();
  },
  { crossOrigin: 'Anonymous' },
);
```

**注**： 不同当前域的图片链接须声明 `crossOrigin: 'Anonymous'`，否则造成 `toDataURL` 失败等错误

## 形状

### 矩形

```js
let rect = new fabric.Rect({
  left: 100,
  top: 100,
  fill: 'red',
  width: 20,
  height: 20
});
canvas.add(rect);
```

设置图片属性

设置背景图片

画布宽高修改

画布缩放

自定义事件
