---
layout:     post
title:      ES6
subtitle:   ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。
date:       2020-12-26
author:     page
header-img: img/home-bg-geek.jpg
catalog: true
tags:
    - javascript
    - ES6
---

## ES6常用语法
ES6(ECMAScript2015)即ECMAScript的2015年颁布的标准，并不是对js的修改或者添加新的API，新标准内容主要是js的语法糖，方便开发者更好的编写js，使开发更加工程性

### 变量
#### 变量声明
ES5使用var的声明变量，具有3个特点

1. 可以重复声明
2. 没有块级作用域
3. 不能限制修改

因此，ES6为让变量更可控制，完善了声明变量

- let
    + 声明的变量名不允许重复声明(同一作用域下)
    + let声明变量支持块级作用域
-const
    + 声明常量，不可被修改
    + 常量声明时必须初始化
    + 具备let所有特性

注:

- 块级作用域
    + 即语法块（花括号内），每次执行括号内，变量都在独立的作用域中
- 预解析
    + let，const声明的变量不会被预解析


#### 变量赋值:解构赋值
- 数组的解构赋值  
```
let [a,b,c] = [1,2,3];//1,2,3  
```
一个变量数组 = 一个值数组，以逗号分隔后相互对应项赋值；支持设置默认值；  

- 对象的解构赋值  
```
let {a,b,c} = {a:1,b:2,c:3};//1,2,3
```
变量对象 = 变量值对象，不存在声明顺序问题；支持变量新别名对值接收  

- 其他用法
```
    let {cos,sin,random} = Math;    //func,func,func;将对象值赋予环境变量 
    let [a,b,c,d,e,f] = "hello";    //h,e,l,l,o,undefined解构字符串
    import {data,request} from 'request' //解构引入模块的成员
```

### 函数
#### 参数默认值
```
    function getNum(outNum = 0){//支持对函数形参赋予默认值
        return outNum;
    };
```
#### 箭头函数
- 写法简洁
    ```
    let getSum = (a,b) => console.log(a + b);
    // 一个参数可省去括号，一行代码可省去花括号
    ```
- this指向
    ```
    var obj = {show: () => console.log(this);}
    doucment.onclick = obj.show;
    ```

- 箭头函数特点：
    + this指向：与this所处位置下外层this指向一致
    + 由于其this特殊性，不允许使用 new 操作符使其提升为构造函数

### 字符串
#### 字符串方法
- includes(str,index)
    + 判断字符串是否包含参数指定字符串，index为起始检索位  
- startsWith(str)
    + 判断字符串是否以参数指定字符串开头
- endsWith(str)
    + 判断字符串是否以参数指定字符串结束

#### 模板字符串
- ES5
    ```
    var data = {name: 'page',age: '20'};
    var html = '<p>姓名：'+ data.name +'</p><p>年龄'+ data.age +'</p>';
    ```
- ES6
```
    let html = `
        <p>姓名：${data.name}</p>
        <p>年龄：${data.age}</p>`;
```

### 拓展运算符
- ...
- 使用
    + .rest参数(剩余参数转成数组)
```
    function test(multiNum,...numbers){//独立参转为数组
        return multiNum * numbers.reduce(function(prev,next,index,arr){
            return prev * next
        })
    };
```
    + 延伸
```
    let arr = [2,2,3];
    console.log(test(...arr));//将数组拓展，把数组项转为多个独立参数
    let arr2 = [4,4,5];
    console.log([...arr,...arr2]); //将两个数组拆分后并至一个数组
    // 函数内不支持访问arguments参数对象，可通过拓展运算符实现
    let getOPtions = (...arguments) => console.log(arguments);
```
    + 对象
```
    let data = {person: {name: 'page',age: 20, gender: '男'...}};
    let info = {...data.person};
```

### class类
- ES5
    + 创建类使用构造函数，给构造函数prototype添加方法
- ES6
    + class关键字声明类，constructor声明构造函数，内部声明原型方法
```
    class dropdown{
        static defaults = {options : true}//静态属性/方法
        constructor ($ele,options){//构造函数
            this.$ele = $ele;
            this.options = options;
        }
        loaded = "loaded"//原型属性
        show(){//原型方法
            this.$ele.showHide("show");
        }
        hide(){
            this.$ele.showHide("hide");
        }
    };
```

- class继承
```
    class Dog extends Animals{
        constructor(name,type){
            super(name);//调用父类构造函数
        }
        // 原型方法自动继承父类原型
    };
```

- class类的特点：
    1. 内部定义的所有方法不可枚举，如constructor，getName,getColor
    2. 类函数必须使用new调用，不能如es5中构造函数可单独调用
    3. 类函数不会预解析提升，原因是类的继承必须保证子类在父类之后定义。

### 对象
- 增强写法
```
    const app = {
        height,
        width,
        render(options){
            ...
        }
    }
```

### for快速遍历
- 循环索引值
```
    for(let index in this.list){
      console.log(i + ': ' + this.list[i]);
    };
```
- 循环数组项
```
    for(let item of this.list){
        console.log('数组项: ' + item)
    };
```
