# 区块链

区块链技术：一种记账方法，理论上也可以是存储信息（记录）的方法（通过查账）

区块链：按时间间隔划分数据记录块，并先后串联的一种数据记录格式；（有序链表）

### 区块链基础

#### 构成

账本+共识机制+密码算法+脚本系统+网络路由

**账本**：个人账本/公共账本（抽象概念）

**地址**：私钥 ->公钥 -> 公钥Hash -> 地址

**钱包**：密钥管理器，交易构造器，余额查看

**共识机制**：PoW，PoS，DPoS，PBFT

**脚本系统**：收发数据，智能合约

**节点**：区块链客户端

**网络路由**：节点的通信，节点发现协议，节点同步数据

#### 工作流程

存数据 —> 打包区块 —> 广播 —> 写入各节点的区块

### 区块链分类与架构

1.0架构：核心节点+前端工具，用于纯实现数字货币（如比特币）

2.0架构：智能合约，拓展区块链系统（如以太坊）

3.0架构：网关控制层，含身份认证，数据审计等，用于企业级应用（如联盟链/私有链）

## 比特币

白皮书：《Bitcoin: A Peer-to-Peer Electronic Cash  System》

比特币客户端官网：bitcoin.org

### 比特币客户端

**客户端功能结构**

钱包：管理用户密钥，提供转账操作

挖矿：另外独立的程序

完整区块链：客户端/挖矿节点保留的完整账本数据，SPV节点与轻量级节点

网络路由：

### 比特币发行-挖矿

### 比特币钱包-核心钱包与轻钱包

### 比特币账户模型-UTXO

UTXO全称“未花费事务输出/Unspent Transaction Output”，无需额外管理账户数据（即传统的基于账户的模型）；所以比特币没有账户的概念（这是它匿名性重要表现）；

**交易数据结构**

交易事务数据存储输入和输出表示流水，每比交易都会花费若干“输入”（它来自另一个交易的输出UTXO），并输出若干UTXO信息；

本质是描述“一个交易的UTXO划分转换”，记录了每个人的多个UTXO；

**工作方式** ：比特币的真实模型UTXO + 临时地址

**你的“余额”​**​：不是你账户里的一个数字，而是散布在区块链上的许多个​**​UTXO​**​。每个UTXO都被锁定在一个特定的​**​地址​**​（公钥哈希）上。

​**​你的“身份”​**​：不是你用来收款的地址，而是你钱包中那些能够​**​签署交易​**​来花费这些UTXO的​**​私钥集合​**​。

​**​最佳实践​**​：为了隐私，你应该为每笔交易使用一个新地址。当你公开一个地址收款时，你只是在说：“​**​暂时将资金发送到这个一次性地址，我能够控制它​**​”，而不是说：“​**​这是我的永久标识​**​”。

假设黑客通过勒索软件获得100 BTC，监管方如何行动？

| 步骤                  | 操作                                           | 技术实现         |
| ------------------- | -------------------------------------------- | ------------ |
| ​**​1. 标记非法UTXO​**​ | 分析区块链，确定黑客的收款地址 `3FakeHacker123`及其UTXO（非法交易） | 区块链浏览器+分析工具  |
| ​**​2. 发布制裁名单​**​   | 将地址加入OFAC的SDN List（认定赃物）                     | 中心化数据库+API分发 |
| ​**​3. 交易所拦截​**​    | 交易所检测到用户充值来自 `3FakeHacker123`，冻结账户           | 合规软件自动扫描链上交易 |
| ​**​4. 阻断流动性​**​    | 矿池拒绝打包包含该UTXO的交易（可选）                         | 矿工节点自定义过滤规则  |
| ​**​5. 法律追缴​**​     | 通过搜查令获取黑客的私钥或托管服务商配合转移资金                     | 私钥扣押或司法多重签名  |

## 区块链技术特性
