---
layout:     post
title:      Vant
subtitle:   一款由有赞出品的适用于移动端电商业务的vue组件库
date:       2021-7-30
author:     page
header-img: img/post-bg-cook.jpg
catalog:    true
tags:
    - 类库
---

# Vant

### 弹窗popup

**弹窗飘入实现**

- 参数 `position` 值为 `top`

- `van-popup` 宽高100% 覆盖

**问题：**

`mounted` 中无法获取元素：默认懒渲染， `lazy-render` 参数须为 `false`

## 列表list

**动态列表内容**

须 `showList` 控制组件渲染，每次清除列表内容前先销毁组件；

```html
<van-list
  v-if="showList"
  ref="VanList"
  v-model="loading"
  :finished="finished"
  :immediate-check="false"
  error-text="加载失败..."
  @load="getList"
  :offset="100"
>
  <div v-for="(item, i) in list"></div>
</van-list>

<script>
  let showList = false;
  let loading = false;
  let finished = false;
  function getList(){
     this.loading = false;
     pageIndex * pageSize >= total && (finished = true);
  }
  function changeList() {
    showList = false;
    this.$nextTick(() => {
      showList = true;
      this.finished = false;
      pageIndex = 1;
      list = [];
      getList();
  });
},
</script>
```
