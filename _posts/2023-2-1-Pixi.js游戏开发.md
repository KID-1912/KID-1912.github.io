---
layout:     post
title:      Pixi.js游戏开发
subtitle:   Pixi.js游戏开发基础
date:       2023-02-01
author:     page
header-img: img/pixi.js.png
catalog: true
tags:
    - canvas
---

# Pixi.js游戏开发

键盘控制：新增键盘事件，添加指定键各状态的处理 http://pixijs.huashengweilai.com/guide/start/12.keyboard-movement.html

## 碰撞检测

输入两个sprite，计算二者中心点距离，判断是否碰撞

```js
function hitTestRectangle(sprite1, sprite2) {
  var halfWidthSprite1 = sprite1.width / 2;
  var halfHeightSprite1 = sprite1.height / 2;
  var halfWidthSprite2 = sprite2.width / 2;
  var halfHeightSprite2 = sprite2.height / 2;
  var centerPoint1X = sprite1.x + halfWidthSprite1;
  var centerPoint1Y = sprite1.y + halfHeightSprite1;
  var centerPoint2X = sprite2.x + halfWidthSprite2;
  var centerPoint2Y = sprite2.y + halfHeightSprite2;
  var pointDistanceX = Math.abs(centerPoint1X - centerPoint2X);
  var pointDistanceY = Math.abs(centerPoint1Y - centerPoint2Y);
  if (pointDistanceX >= halfWidthSprite1 + halfWidthSprite2) return false;
  if (pointDistanceY >= halfHeightSprite1 + halfHeightSprite2) return false;
  return true;
}
```
